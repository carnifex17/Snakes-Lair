# Password Attacks

## Credential Storage

### Linux Shadow File

* **/etc/shadows structure**

<table data-header-hidden><thead><tr><th width="163"></th><th width="385"></th><th width="160"></th><th width="111"></th><th></th><th width="135"></th><th width="170"></th><th width="159"></th><th></th></tr></thead><tbody><tr><td><code>guest:</code></td><td><code>$y$j9T$3QSBB6CbHEu...SNIP...f8Ms:</code></td><td><code>18955:</code></td><td><code>0:</code></td><td><code>99999:</code></td><td><code>7:</code></td><td><code>:</code></td><td><code>:</code></td><td><code>:</code></td></tr><tr><td><code>&#x3C;username>:</code></td><td><code>&#x3C;encrypted password>:</code></td><td><code>&#x3C;day of last change>:</code></td><td><code>&#x3C;min age>:</code></td><td><code>&#x3C;max age>:</code></td><td><code>&#x3C;warning period>:</code></td><td><code>&#x3C;inactivity period>:</code></td><td><code>&#x3C;expiration date>:</code></td><td><code>&#x3C;reserved field></code></td></tr></tbody></table>

***

## Password Mutations

Password Mutations is technique, when you change some default passwords, or find out some personal information about target, and want to use it for password. But regularly even if person have dog named: Richard, password wouldn't be just <mark style="color:red;">**richard**</mark>, it would be <mark style="color:red;">**r1ch@rd15**</mark> as example. That's what the poing of Password Mutation, change password to look for it's variations, or mutations.&#x20;

### Hachcat Rules

| Function | Description                                  |
| -------- | -------------------------------------------- |
| :        | Do nothing                                   |
| l        | lowercase all letters                        |
| u        | uppercase all letters                        |
| c        | capitalize first letter and lowercase others |
| sXY      | Replace all instances of X with Y            |
| $!       | Add exclamation character at the end         |

```bash
hashcat --force password.list -r mutation.rule --stdout | sort -u > mutated.list
```

Also you could use [<mark style="color:blue;">**CeWL**</mark>](https://www.geeksforgeeks.org/cewl-tool-creating-custom-wordlists-tool-in-kali-linux/) for making custom wordlists from someone's website.&#x20;

***

## John The Ripper

[**`John the Ripper`**](../tools/john-the-ripper.md)**`(JTR or john)` is an essential pentesting tool used to check the strength of passwords and crack encrypted (or hashed) passwords using either brute force or dictionary attacks. It is open-source software initially developed for UNIX-based systems and first released in 1996. Also it has a lot of sub-tools for translation files into crackable state**\


| **Tool**                | **Description**                               |
| ----------------------- | --------------------------------------------- |
| `pdf2john`              | Converts PDF documents for John               |
| `ssh2john`              | Converts SSH private keys for John            |
| `mscash2john`           | Converts MS Cash hashes for John              |
| `keychain2john`         | Converts OS X keychain files for John         |
| `rar2john`              | Converts RAR archives for John                |
| `pfx2john`              | Converts PKCS#12 files for John               |
| `truecrypt_volume2john` | Converts TrueCrypt volumes for John           |
| `keepass2john`          | Converts KeePass databases for John           |
| `vncpcap2john`          | Converts VNC PCAP files for John              |
| `putty2john`            | Converts PuTTY private keys for John          |
| `zip2john`              | Converts ZIP archives for John                |
| `hccap2john`            | Converts WPA/WPA2 handshake captures for John |
| `office2john`           | Converts MS Office documents for John         |
| `wpa2john`              | Converts WPA/WPA2 handshakes for John         |

***
